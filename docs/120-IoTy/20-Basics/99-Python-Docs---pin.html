<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link href="../../css/pygment_default.css" rel="stylesheet">
  <link href="../../css/main.css" rel="stylesheet">
  <link href="../../css/print.css" rel="stylesheet" media="print">

  <title>IoTy Documentation</title>
</head>

<body>
    <div id="header">
        <div id="header-left">
            <a id="home" href="../../index.html"><i class="fa fa-home"></i></a>
            &nbsp;&nbsp;/&nbsp;&nbsp;
            IoTy Documentation
        </div>
        <div id="header-right">
            <a href="https://aposteriori.com.sg">
                <img src="../../images/logo.png">
            </a>
        </div>
    </div>

    <div id="body">
        <div id="sidebarOverlay"></div>
        <nav id="sidebar" role="navigation">
            <div id="sidebarHeader">Internet-of-Things made easy</div>
            <p>Intro to IoTy</p><ul><a href="../10-Introduction/10-Intro.html"><li >Introduction</li></a><a href="../10-Introduction/20-First-Program.html"><li >First Program</li></a><a href="../10-Introduction/30-Connection-Modes.html"><li >Connection Modes</li></a><a href="../10-Introduction/40-Monitor.html"><li >Monitor</li></a></ul><p>Basic Features</p><ul><a href="../20-Basics/10-GPIO-Pins.html"><li >GPIO Pins</li></a><a href="../20-Basics/20-Analog-Read-and-Write.html"><li >Analog Read and Write</li></a><a href="../20-Basics/30-Servo.html"><li >Servo</li></a><a href="../20-Basics/40-Ultrasonic-Distance.html"><li >Ultrasonic Distance (HC-SR04)</li></a><a href="../20-Basics/99-Python-Docs---pin.html"><li class="current">Python Docs - pin</li></a></ul><p>Extensions</p><ul><a href="../100-Extensions/10-Gyro.html"><li >Gyro (MPU-6050)</li></a><a href="../100-Extensions/20-Servo-driver.html"><li >Servo Driver (PCA9685)</li></a><a href="../100-Extensions/30-SSD1306.html"><li >OLED Screen (SSD1306)</li></a><a href="../100-Extensions/40-urequests.html"><li >HTTP Requests (urequests)</li></a><a href="../100-Extensions/50-Neopixel.html"><li >Neopixel (WS2812 LEDs)</li></a></ul><p>Others Components</p><ul><a href="../200-Others/10-hbridge.html"><li >Intro to H-Bridge</li></a><a href="../200-Others/12-hbridgeControl2Pins.html"><li >Controlling a H-Bridge (2 pins)</li></a><a href="../200-Others/14-hbridgeControl3Pins.html"><li >Controlling a H-Bridge (3 pins)</li></a></ul>
        </nav>
        <div id="content">
            <h1>Python Docs - pin</h1>
<h1><code>pin</code> - control GPIO pins</h1>
<p>The <code>pin</code> object is meant to be easy to use, and do not provide all the capabilities available in micropython.
If you need more capabilities, you can use the <code>Pin</code> class provided by micropython <a href="https://docs.micropython.org/en/latest/library/machine.Pin.html">https://docs.micropython.org/en/latest/library/machine.Pin.html</a>.</p>
<p>Usage Model:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">ioty</span> <span class="kn">import</span> <span class="n">pin</span>

<span class="c1"># Set mode of pin 0 to input with pull-up</span>
<span class="n">pin</span><span class="o">.</span><span class="n">set_pin_mode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pin</span><span class="o">.</span><span class="n">PULL_UP</span><span class="p">)</span>

<span class="c1"># Print the value of pin 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">digital_read</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="c1"># Set pin 2 to 1 (HIGH)</span>
<span class="n">pin</span><span class="o">.</span><span class="n">digital_write</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Print the analog value of pin 32 (0 to 65535)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">analog_read</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span>

<span class="c1"># Print the touch value of pin 4 (0 to ~1000)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">touch_read</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>

<span class="c1"># Set the PWM frequency for pin 13</span>
<span class="n">pin</span><span class="o">.</span><span class="n">set_analog_write_freq</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Write the PWM value of 512 (around 50%) to pin 13</span>
<span class="n">pin</span><span class="o">.</span><span class="n">analog_write</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>

<span class="c1"># Set the servo connected to pin 17 to 90 degrees</span>
<span class="n">pin</span><span class="o">.</span><span class="n">servo_write_deg</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

<span class="c1"># Print the distance measure by an ultrasonic sensor on pin 12 and 14</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pin</span><span class="o">.</span><span class="n">hc_sr04_ping_cm</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
</code></pre></div>

<div class="custom_lib_docs">
<h2>Constructors</h2>
<p>None.</p>
<p>Use the <code>pin</code> object directly.</p>
<h2>Methods</h2>
<h3>pin.set_pin_mode(pin, mode)</h3>
<p>This method allows you to set the pin mode.
The mode is set automatically when reading or writing to a pin, so this method isn't always required.
Automatic setting of mode will not use pull-ups, so pull-up should be set using this method if required.</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>mode</code> The pin mode, which can be one of the following:</p>
<ul>
<li>
<p><code>pin.OUT</code> Set the pin to output mode.</p>
</li>
<li>
<p><code>pin.IN</code> Set the pin to input mode without pull-up resistor.</p>
</li>
<li>
<p><code>pin.PULL_UP</code> Set pin to input mode with pull-up resistor.</p>
</li>
</ul>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.digital_read(pin)</h3>
<p>This method gets the value from the pin.</p>
<p>The arguments are:</p>
<ul>
<li><code>pin</code> An integer number specifying the pin number.</li>
</ul>
<p>Returns either an integer <code>1</code> (HIGH) or <code>0</code> (LOW).</p>
<h3>pin.digital_write(pin, value)</h3>
<p>This method sets the value of the pin.</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>value</code> An integer <code>1</code> (HIGH) or <code>0</code> (LOW).</p>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.analog_read(pin)</h3>
<p>This method gets an analog value from the pin.</p>
<p>The arguments are:</p>
<ul>
<li><code>pin</code> An integer number specifying the pin number.</li>
</ul>
<p>Returns an integer ranging from <code>0</code> to <code>65535</code>.</p>
<h3>pin.touch_read(pin)</h3>
<p>This method gets a capacitive touch value from the pin.</p>
<p>The arguments are:</p>
<ul>
<li><code>pin</code> An integer number specifying the pin number.</li>
</ul>
<p>Returns an integer ranging from <code>0</code> to around <code>1000</code>.</p>
<h3>set_analog_write_freq(pin, freq)</h3>
<p>This method sets the frequency for PWM output.</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>freq</code> An integer ranging from <code>1</code> to <code>40000000</code> representing the frequency in Hz.</p>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.analog_write(pin, value)</h3>
<p>This method sets the value of the pin.</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>value</code> An integer ranging from <code>0</code> (0%) to <code>1023</code> (100%) representing the PWM duty cycle.</p>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.servo_write_deg(pin, deg)</h3>
<p>This method sets a PWM signal on the specified pin suitable for controlling an RC servo.
The output PWM width will range from 500us (0 deg) to 2500us (180 deg).</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>deg</code> An number (int/float) ranging from <code>0</code> to <code>180</code> representing the angle in degrees.</p>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.servo_write_us(pin, us)</h3>
<p>This method sets a PWM signal on the specified pin suitable for controlling an RC servo.</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>pin</code> An integer number specifying the pin number.</p>
</li>
<li>
<p><code>us</code> An number (int/float) representing the pulse width in microseconds.</p>
</li>
</ul>
<p>Returns <code>None</code>.</p>
<h3>pin.hc_sr04_ping_cm(trig, echo, timeout=4000<em>2</em>3)</h3>
<p>This method triggers a measurement on the ultrasonic distance sensor, and returns the measured distance in centimeters (cm).</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>trig</code> An integer number specifying the pin connected to the TRIG of the ultrasonic. This must be an output capable pin.</p>
</li>
<li>
<p><code>echo</code> An integer number specifying the pin connected to the ECHO of the ultrasonic.</p>
</li>
<li>
<p><code>timeout</code> An integer representing the duration in microseconds to wait for the echo.</p>
</li>
</ul>
<p>Returns <code>-1</code> on timeout, else it will return a float representing the measured distance in centimeters (cm).</p>
<h3>pin.hc_sr04_ping_us(trig, echo, timeout=4000<em>2</em>3)</h3>
<p>This method triggers a measurement on the ultrasonic distance sensor, and returns the measured distance in microseconds (us).</p>
<p>The arguments are:</p>
<ul>
<li>
<p><code>trig</code> An integer number specifying the pin connected to the TRIG of the ultrasonic. This must be an output capable pin.</p>
</li>
<li>
<p><code>echo</code> An integer number specifying the pin connected to the ECHO of the ultrasonic.</p>
</li>
<li>
<p><code>timeout</code> An integer representing the duration in microseconds to wait for the echo.</p>
</li>
</ul>
<p>Returns <code>-1</code> on timeout, else it will return a integer representing the time for the echo to return in microseconds (us).</p>
</div>
        </div>
        <button type="button" id="hamburger">
            <div id="hamburgerTop"></div>
            <div id="hamburgerBottom"></div>
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('hamburger').addEventListener('click', function() {
                document.getElementById('body').classList.toggle('close');
            });

            let currentEle = document.querySelector('#sidebar li.current');
            currentEle.scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        });
    </script>
</body>
</html>