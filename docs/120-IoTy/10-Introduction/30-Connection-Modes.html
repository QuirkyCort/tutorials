<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link href="../../css/pygment_default.css" rel="stylesheet">
  <link href="../../css/main.css" rel="stylesheet">
  <link href="../../css/print.css" rel="stylesheet" media="print">

  <title>IoTy Documentation</title>
</head>

<body>
    <div id="header">
        <div id="header-left">
            <a id="home" href="../../index.html"><i class="fa fa-home"></i></a>
            &nbsp;&nbsp;/&nbsp;&nbsp;
            IoTy Documentation
        </div>
        <div id="header-right">
            <a href="https://aposteriori.com.sg">
                <img src="../../images/logo.png">
            </a>
        </div>
    </div>

    <div id="body">
        <div id="sidebarOverlay"></div>
        <nav id="sidebar" role="navigation">
            <div id="sidebarHeader">Internet-of-Things made easy</div>
            <p>Intro to IoTy</p><ul><a href="../10-Introduction/10-Intro.html"><li >Introduction</li></a><a href="../10-Introduction/20-First-Program.html"><li >First Program</li></a><a href="../10-Introduction/30-Connection-Modes.html"><li class="current">Connection Modes</li></a><a href="../10-Introduction/40-Monitor.html"><li >Monitor</li></a></ul><p>Basic Features (GPIO)</p><ul><a href="../20-Basics-GPIO/10-GPIO-Pins.html"><li >GPIO Pins</li></a><a href="../20-Basics-GPIO/20-Analog-Read-and-Write.html"><li >Analog Read and Write</li></a><a href="../20-Basics-GPIO/30-Servo.html"><li >Servo</li></a><a href="../20-Basics-GPIO/40-Ultrasonic-Distance.html"><li >Ultrasonic Distance (HC-SR04)</li></a><a href="../20-Basics-GPIO/99-Python-Docs---pin.html"><li >Python Docs - pin</li></a></ul><p>Extensions (Software)</p><ul><a href="../100-Extensions_Software/10-urequests.html"><li >HTTP Requests (urequests)</li></a><a href="../100-Extensions_Software/20-EZ-ESP-NOW.html"><li >EZ ESP-NOW</li></a><a href="../100-Extensions_Software/30-EZ-HTTPD.html"><li >EZ HTTP (Web Server)</li></a><a href="../100-Extensions_Software/40-non-block.html"><li >Non-Blocking Read</li></a><a href="../100-Extensions_Software/50-EZ-Timer.html"><li >EZ Timer</li></a></ul><p>Extensions (Hardware)</p><ul><a href="../110-Extensions_Hardware/10-Gyro.html"><li >Gyro (MPU-6050)</li></a><a href="../110-Extensions_Hardware/20-Servo-driver.html"><li >Servo Driver (PCA9685)</li></a><a href="../110-Extensions_Hardware/30-SSD1306.html"><li >OLED Screen (SSD1306)</li></a><a href="../110-Extensions_Hardware/40-Neopixel.html"><li >Neopixel (WS2812 LEDs)</li></a><a href="../110-Extensions_Hardware/50-I2C-LCD.html"><li >I2C LCD (HD44780 + PCF8574)</li></a><a href="../110-Extensions_Hardware/60-DHT11.html"><li >Temperature and Humidity (DHT11, DHT22, AM2302)</li></a><a href="../110-Extensions_Hardware/70-EZ-DS18X20.html"><li >Temperature Sensor (DS18S20, DS18B20)</li></a><a href="../110-Extensions_Hardware/80-GPS.html"><li >GPS (NMEA over serial)</li></a><a href="../110-Extensions_Hardware/90-hx711.html"><li >Analog-to-Digital (HX711)</li></a><a href="../110-Extensions_Hardware/100-hx710.html"><li >Analog-to-Digital (HX710)</li></a><a href="../110-Extensions_Hardware/110-MFRC522.html"><li >RFID Reader (MFRC522)</li></a><a href="../110-Extensions_Hardware/120-Magnetic-Sensor.html"><li >Magnetic Sensor (QMC5883L, HMC5883L)</li></a><a href="../110-Extensions_Hardware/130-Barometric-Pressure.html"><li >Barometric Pressure (BMP280, BME280)</li></a><a href="../110-Extensions_Hardware/140-Heart-Rate.html"><li >Heart Rate Sensor (MAX30102)</li></a><a href="../110-Extensions_Hardware/150-ToF.html"><li >Laser Ranging (VL53L0X, VL52L1X)</li></a><a href="../110-Extensions_Hardware/160-rtc-ds3231.html"><li >Real-Time Clock (DS3231)</li></a><a href="../110-Extensions_Hardware/170-apds9960.html"><li >Light, Proximity, Gesture (APDS9960)</li></a></ul><p>Others Components</p><ul><a href="../200-Others/10-hbridge.html"><li >Intro to H-Bridge</li></a><a href="../200-Others/12-hbridgeControl2Pins.html"><li >Controlling a H-Bridge (2 pins)</li></a><a href="../200-Others/14-hbridgeControl3Pins.html"><li >Controlling a H-Bridge (3 pins)</li></a></ul>
        </nav>
        <div id="content">
            <h1>Connection Modes</h1>
<p>IoTy supports 4 different ways to connect to your device.</p>
<ul>
<li><strong>Serial.</strong> This is the preferred way, but only works on computers and not mobile devices (eg. phone and tablets).</li>
<li><strong>Bluetooth.</strong> This works on computers and Android devices, but not on iOS (eg. iPads).</li>
<li><strong>Internet.</strong> This works on all devices, but requires WiFi and an MQTT account.</li>
<li><strong>Access Point.</strong> This works on all devices, but requires the most steps when downloading programs to your device.</li>
</ul>
<p><img alt="" src="images/connectionModeTable.webp" /></p>
<h2>Serial Mode</h2>
<ul>
<li>Preferred connection mode.</li>
<li>Works on laptops and desktops running Chrome browser.</li>
<li>Does not work on mobile devices.</li>
<li>Only method that stays connected when the device is reset.</li>
</ul>
<h3>Connection Steps</h3>
<ol>
<li>
<p>Open connection menu.</p>
<p><img alt="" src="images/connectionMenu.webp" /></p>
</li>
<li>
<p>Switch to "Serial" mode and click "Ok".</p>
<p><img alt="" src="images/serialMode.webp" /></p>
</li>
<li>
<p>Connect device to computer using USB cable.</p>
</li>
<li>Open connection menu and click "Connect".</li>
<li>Select "Filtered Connect", select your device (...there will probably be just one), and click "Connect".</li>
<li>Open connection menu and click "Download to device".</li>
<li>Reset your device to run the new code.</li>
</ol>
<h2>Bluetooth Mode</h2>
<ul>
<li>Only works on Chrome.</li>
<li>Does not work on iOS (iPhone and iPads) even with Chrome.</li>
<li>Slow when transferring large programs and may have hardware compatibility issues.</li>
</ul>
<h3>Connection Steps</h3>
<ol>
<li>
<p>Open connection menu.</p>
<p><img alt="" src="images/connectionMenu.webp" /></p>
</li>
<li>
<p>Switch to "Bluetooth" mode and click "Ok".</p>
<p><img alt="" src="images/bluetoothMode.webp" /></p>
</li>
<li>
<p>Switch your device to programming mode by pressing reset, then hold the boot button until the Blue LED stays on.</p>
<p><img alt="" src="images/programmingMode.webp" /></p>
</li>
<li>
<p>Open connection menu and click "Connect".</p>
</li>
<li>Select your device (...it should show the name that you've selected when flashing firmware) and click "Connect".</li>
<li>Open connection menu and click "Download to device".</li>
<li>Reset your device to run the new code.</li>
</ol>
<h2>Internet Mode</h2>
<ul>
<li>Recommended mode for iPads.</li>
<li>Works on any device using any browser.</li>
<li>Need to provide your device with WiFi access (...many school and public WiFi will not allow this, but home routers and phone hotspot should work fine).</li>
<li>Need access to an MQTT server (...you can use the public server provided by <a href="https://www.hivemq.com/mqtt/public-mqtt-broker/">Hivemq</a>).</li>
<li>Needs to configure your device using another mode first (...to provide it with the network settings).</li>
</ul>
<h3>Configuring Network</h3>
<ol>
<li>Connect using one of the other modes.</li>
<li>Open the connection menu, and select "Configure Device Network".</li>
<li>Provide your WiFi SSID and password.</li>
<li>Fill in the MQTT Host, Port, Username, and Password. If using the public server provided by <a href="https://www.hivemq.com/mqtt/public-mqtt-broker/">Hivemq</a>, set Host to <code>broker.hivemq.com</code>, Port to <code>1883</code>, Username can be anything (...choose something unique), and leave password blank.</li>
<li>Click "Ok".</li>
</ol>
<h3>Connection Steps</h3>
<ol>
<li>
<p>Open connection menu.</p>
<p><img alt="" src="images/connectionMenu.webp" /></p>
</li>
<li>
<p>Switch to "Internet" mode and click "Ok".</p>
<p><img alt="" src="images/internetMode.webp" /></p>
</li>
<li>
<p>Switch your device to programming mode by pressing reset, then hold the boot button until the Blue LED stays on.</p>
<p><img alt="" src="images/programmingMode.webp" /></p>
</li>
<li>
<p>The Blue LED will then perform double blinks while it connects to your WiFi. When the Blue LED stays on, connection to the MQTT server is complete.</p>
</li>
<li>Open connection menu and click "Connect".</li>
<li>Provide the MQTT Host, Username, and Password. If using the public server provided by <a href="https://www.hivemq.com/mqtt/public-mqtt-broker/">Hivemq</a>, set Host to <code>ws://broker.hivemq.com:8000/mqtt</code>, Username to what you have used when configuring network, and leave password blank. Click "Ok".</li>
<li>Open connection menu and click "Download to device".</li>
<li>Reset your device to run the new code.</li>
</ol>
<h2>Access Point Mode</h2>
<ul>
<li>Works on any device using any browser.</li>
<li>ESP32 will act as a router.</li>
<li>Most steps required.</li>
</ul>
<h3>Download Program</h3>
<p>To use Access Point mode, you must first download your program as a JSON package.
Click "File", then "Save code to JSON package".</p>
<p><img alt="" src="images/downloadProgram.webp" /></p>
<h3>Connection Steps</h3>
<ol>
<li>
<p>Switch your device to access point mode by pressing reset, then hold the boot button until the Blue LED blinks rapidly.</p>
<p><img alt="" src="images/accessPointMode.webp" /></p>
</li>
<li>
<p>On your computing device (eg. Computer, phone, tablet), open the WiFi menu and look for an access point with the name of your IoTy device (...name that you have selected when flashing firmware). Connect to that access point.</p>
</li>
<li>Upon connection, you will lose internet access. <strong>This is normal!</strong></li>
<li>
<p>Click "App", then "Access point page".</p>
<p><img alt="" src="images/accessPointPage.webp" /></p>
</li>
<li>
<p>In the access point page, look for the "Upload Code" section, select "Choose file", then select the JSON package you have downloaded earlier.</p>
</li>
<li>
<p>Click the "Upload" button. You should see a success message.</p>
<p><img alt="" src="images/accessPointUploadJSON.webp" /></p>
</li>
<li>
<p>Reset your device to run the new code.</p>
</li>
</ol>
        </div>
        <button type="button" id="hamburger">
            <div id="hamburgerTop"></div>
            <div id="hamburgerBottom"></div>
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('hamburger').addEventListener('click', function() {
                document.getElementById('body').classList.toggle('close');
            });

            let currentEle = document.querySelector('#sidebar li.current');
            currentEle.scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        });
    </script>
</body>
</html>